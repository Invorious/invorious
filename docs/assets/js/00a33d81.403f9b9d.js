"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8142],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>m});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),c=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=c(e.components);return r.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=c(n),f=o,m=u["".concat(p,".").concat(f)]||u[f]||d[f]||a;return n?r.createElement(m,i(i({ref:t},l),{},{components:n})):r.createElement(m,i({ref:t},l))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=f;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[u]="string"==typeof e?e:o,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},112:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var r=n(7462),o=(n(7294),n(3905));const a={sidebar_position:1},i="Http",s={unversionedId:"http/frontend/http",id:"http/frontend/http",title:"Http",description:"Function for http requests",source:"@site/docs/http/frontend/http.md",sourceDirName:"http/frontend",slug:"/http/frontend/http",permalink:"/docs/http/frontend/http",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/http/frontend/http.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Http Frontend",permalink:"/docs/category/http-frontend"},next:{title:"Interceptors",permalink:"/docs/http/frontend/interceptors"}},p={},c=[{value:"Function for http requests",id:"function-for-http-requests",level:2},{value:"Client implementation",id:"client-implementation",level:2}],l={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,r.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"http"},"Http"),(0,o.kt)("h2",{id:"function-for-http-requests"},"Function for http requests"),(0,o.kt)("p",null,"Created a ",(0,o.kt)("inlineCode",{parentName:"p"},"useHttpClient<T>()")," hook to perform get, post, put and delete onto the specified URL, internally these requests are made using axios and Promises."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"return new Promise<T>((resolve, reject) => {\n  instance.method<T>(url, data).then(\n    (response) => resolve(response.data),\n    (error: RequestError) => handleError(error, reject),\n  );\n});\n")),(0,o.kt)("p",null,"I preffered axios over fetch due to implementing interceptors, on axios you can use: ",(0,o.kt)("inlineCode",{parentName:"p"},"axios.inteceptros.request.use()")),(0,o.kt)("h2",{id:"client-implementation"},"Client implementation"),(0,o.kt)("p",null,"Client can simply call this hook form the library, passing an interface of the expected response and if he wants base axios configuration and an onError function, in case client wants to update the UI/perform an action when an error ocurs."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="response interface"',title:'"response','interface"':!0},"interface ExpectedResponse {\n  id: number;\n  message: string;\n  weedEnjoyer: boolean;\n}\n\nconst { get, post, put, deleteRequest } = useHttpClient<ExpectedResponse>({\n  baseURL: '/api',\n});\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="Now all we have to do is call our imported functions, in this example case I\'ll use them on a onClick event."',title:'"Now',all:!0,we:!0,have:!0,to:!0,do:!0,is:!0,call:!0,our:!0,imported:!0,"functions,":!0,in:!0,this:!0,example:!0,case:!0,"I'll":!0,use:!0,them:!0,on:!0,a:!0,onClick:!0,'event."':!0},"const performPut = async () => {\n  const response = await put('/test', {\n    message: 'hola amigo',\n    weedEnjoyer: true,\n  });\n};\nasync function performPost() {\n  const response = await post('/test', {\n    id: 420,\n    weedEnjoyer: true,\n  });\n}\n\n<button onClick=\"{performPost}\">POST</button>;\n")))}d.isMDXComponent=!0}}]);